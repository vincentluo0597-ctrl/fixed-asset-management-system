## 目标与范围
- 围绕设备/耗材/位置/供应商的核心管理能力，补齐局域网办公高频小功能与批量操作能力。
- 在现有领域模型与接口基础上增强易用性、可见性与审计能力，兼顾 UI 提升与部署验证。

## 功能增强（核心模块）
1. 仪表盘
- 添加实时关键指标：设备总数与按状态分布、近7天操作日志趋势、保修到期设备 Top10。
- 全局搜索支持更多维度（设备资产编号、序列号、保管人、位置路径）。
2. 设备管理
- 列表高级筛选：按“保修是否到期”“是否闲置”“近30天是否有维修”。
- 批量操作：批量更新位置/保管人/状态（通过前端勾选与后端批量接口）。
3. 耗材管理
- 自动生成补货建议：依据安全库存与近30天消耗速率预测下周需求。
- 更换记录联动设备：在设备详情页显示关联的耗材更换历史。
4. 知识库
- 支持标签与关键字搜索；设备型号维度聚合常见故障与解决方案。
5. 文档中心
- 文档/图片拖拽上传与预览；按设备/分类归档，支持按标签筛选。

## 数据与批量导入
1. CSV 导入扩展
- 新增供应商/位置/耗材的 CSV 导入接口；支持模板下载与导入前校验预览。
- 导入校验：必填字段、重复编码/名称、关联外键存在性（分类/位置/保管人）。
2. CSV 导出优化
- 导出包含中文表头与 UTF-8 BOM；支持按当前筛选条件导出（设备/耗材/操作日志）。

## 工作流与通知
1. 调用/借用审批流
- 引入“申请-审批-执行-归还”状态机；管理员与设备负责人可审批。
- 超期提醒与逾期列表（支持导出）。
2. 保修/维护到期提醒
- 每日定时任务计算到期设备，推送到仪表盘并生成通知列表。
3. 盘库流程
- 盘库计划与任务分配；盘库结果差异比对与自动调整建议（人工确认）。

## 权限与审计
1. 角色权限收紧
- 基于 `UserRole` 设置：管理员/维护员/查看者三级权限，限制写操作接口。
- 后台管理页按角色显示菜单与按钮。
2. 审计增强
- 操作日志导出 CSV（已有）增加筛选：操作者、实体类型、时间范围、关键词。
- 关键业务操作（导入、批量更新、审批）记录更详细上下文。

## UI 美化与可用性
1. 管理页样式统一
- 统一导航条、过滤栏、分页、反馈提示样式；移动端自适应布局。
- 数据表格支持粘性表头、列宽自适配、斑马条纹、紧凑模式切换。
2. 组件化
- 抽取常用组件：搜索框、下拉选择、文件上传、统计卡片；在各页复用。
3. 交互提升
- 列表就地编辑、批量勾选、导入预览弹窗、长任务进度提示。

## MySQL 联调与验证
1. 启动与初始化
- 检查并启动 Windows 服务 `MySQL80`；创建数据库 `gdzc` 与 UTF-8MB4 编码。
- 使用应用配置 `spring.datasource.*` 与 `spring.flyway.*` 自动迁移。
2. 连接与健康检查
- 启动应用后访问 `GET /actuator/health`，确认 `db:UP`、`diskSpace:UP`。
- 验证核心列表接口：设备/耗材/位置/供应商分页与筛选。

## 交付节奏（两周为一个迭代）
- 第1迭代（Quick Wins）
  - 仪表盘指标与全局搜索扩展；设备 CSV 导入/导出完善；UI 统一样式。
- 第2迭代（流程与权限）
  - 借用审批流与超期提醒；角色权限收紧；审计详情与导出。
- 第3迭代（盘库与预测）
  - 盘库计划与差异比对；耗材补货建议与预测。

## 技术实现要点（与现有代码衔接）
- 设备筛选：沿用 `Specification` 构建动态条件（参考 `src/main/java/com/example/gdzc/controller/EquipmentController.java:48`）。
- CSV 导入：沿用现有导出字段并做健壮解析；导入接口返回成功/失败计数与详细错误列表。
- 搜索接口：在现有 `SearchController` 基础上扩维度与分页（`src/main/java/com/example/gdzc/controller/SearchController.java:14`）。
- UI：统一在 `static/css/admin.css` 增加组件与变量，模板页复用（设备页 `templates/admin/equipment/index.html:24`）。
- 权限：基于 `SecurityConfig` 与 `DbUserDetailsService` 配置访问控制（`src/main/java/com/example/gdzc/security/SecurityConfig.java`）。

请确认该计划；确认后我将按迭代推进开发与联调，并在每个模块完成后进行可视化与接口级验证。